pipeline {
  agent any

  stages {
    stage('Build') {
      steps {
        //build docker image using build script file
        sh 'build.sh'
      }
    }
  stage('login') {
      steps {
           sh 'docker login -u $docker_username -p $docker_password'
          }
       }
         
    stage('Deploy') {
      steps {
    script {
          if[[ $GIT_BRANCH=="orgin/dev" ]]; then
          sh 'deploy.sh'
          
}
         

        }
      }
    }
    
  
post {
        always {
            // Clean up stage
            cleanWs()
        }
        success {
            echo 'Pipeline completed successfully!'
        }
        failure {
            echo 'Pipeline failed!'
}
}
